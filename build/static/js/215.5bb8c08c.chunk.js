"use strict";(self.webpackChunkreact_social=self.webpackChunkreact_social||[]).push([[215],{5215:function(t,e,s){s.r(e),s.d(e,{default:function(){return D}});var i=s(5671),r=s(3144),n=s(136),o=s(5716),a=s(1413),u=s(2791),l="ProfileInfo_userImage__lo-ug",d=s(9185),p=s(4088),c=s(184),f=function(t){(0,n.Z)(s,t);var e=(0,o.Z)(s);function s(){var t;(0,i.Z)(this,s);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).state={status:t.props.profilestatus,editmode:!1},t.activatedStatusMode=function(){t.setState({editmode:!0})},t.deactivateStatusMode=function(){t.setState({editmode:!1}),t.props.UpdateProfileThunkStatus(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.currentTarget.value})},t}return(0,r.Z)(s,[{key:"componentDidUpdate",value:function(t){t.profilestatus!=this.props.profilestatus&&this.setState({status:this.props.profilestatus})}},{key:"render",value:function(){return(0,c.jsxs)("div",{children:[!this.state.editmode&&(0,c.jsx)("div",{children:(0,c.jsx)("span",{onClick:this.activatedStatusMode,children:this.state.status||"--------"})}),this.state.editmode&&(0,c.jsx)("div",{children:(0,c.jsx)("input",{autoFocus:!0,onBlur:this.deactivateStatusMode,value:this.state.status,onChange:this.onStatusChange,type:"text"})})]})}}]),s}(u.Component),h=function(t){return t.profile?(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("img",{className:l,src:null!=t.profile.photos.large?t.profile.photos.small:d}),(0,c.jsx)(f,(0,a.Z)((0,a.Z)({},t),{},{profilestatus:t.profilestatus}))]}),(0,c.jsx)("div",{children:t.profile.fullName}),(0,c.jsx)("div",{children:t.profile.userId})]}):(0,c.jsx)(p.Z,{})},m=s(7189),v="Post_item__A7iZ5",x="Post_user_photo__l8qih",j="Post_item_text__Rze9j",k="Post_like__CKkOj",P=function(t){return(0,c.jsxs)("div",{className:v,children:[(0,c.jsx)("div",{className:x,children:(0,c.jsx)("img",{src:"https://doctor-veterinar.ru/media/k2/items/cache/675d28c04794e3c683f4419536c4c15f_L.jpg",alt:""})}),(0,c.jsx)("div",{className:j,children:(0,c.jsxs)("div",{className:j,children:[t.message,"  "]})}),(0,c.jsxs)("div",{className:k,children:["like",t.like]})]})},Z=s(6139),g=s(704),S=s(8610),_=s(2354);window.props=[];var y=u.memo((function(t){window.props.push(t);var e=t.posts.map((function(t){return(0,c.jsx)(P,{message:t.text,like:t.like},t.id)}));return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:(0,c.jsx)(T,{onSubmit:function(e){t.onaddDialogs(e.profile)}})}),e]})})),T=(0,g.Z)({form:"profileform"})((function(t){var e=t.handleSubmit;return(0,c.jsxs)("form",{onSubmit:e,children:[(0,c.jsx)("div",{children:(0,c.jsx)(Z.Z,{placeholder:"Enter your message",name:"profile",component:_.fM,type:"text",validate:[S.FO,S.JE]})}),(0,c.jsx)("button",{type:"submit",children:"Submit"})]})})),C=s(364),w=(0,C.$j)((function(t){return{newPostText:t.ProfilePage.newPostText,posts:t.ProfilePage.PostData}}),(function(t){return{onaddDialogs:function(e){t((0,m.m$)(e))}}}))(y),b=function(t){return(0,c.jsxs)("div",{children:[(0,c.jsx)(h,(0,a.Z)((0,a.Z)({},t),{},{profilestatus:t.profilestatus,profile:t.profile})),(0,c.jsx)(w,{})]})},A=s(6871),N=s(7781),M=s(2511),U=function(t){(0,n.Z)(s,t);var e=(0,o.Z)(s);function s(){return(0,i.Z)(this,s),e.apply(this,arguments)}return(0,r.Z)(s,[{key:"componentDidMount",value:function(){var t=this.props.params.userId;t||(t=this.props.userid),this.props.ProfileThunk(t),this.props.ProfileThunkStatus(t)}},{key:"render",value:function(){return(0,c.jsx)("div",{children:(0,c.jsx)(b,(0,a.Z)((0,a.Z)({},this.props),{},{profile:this.props.profile,UpdateProfileThunkStatus:this.props.UpdateProfileThunkStatus}))})}}]),s}(u.Component),D=(0,N.qC)((0,C.$j)((function(t){return{profile:t.ProfilePage.profile,profilestatus:t.ProfilePage.profilestatus,userid:t.Auth.userid,isAuth:t.Auth.isAuth}}),{ProfileThunk:m.Ot,ProfileThunkStatus:m.EZ,UpdateProfileThunkStatus:m.AW}),M.V,(function(t){return function(e){var s=(0,A.UO)();return(0,c.jsx)(t,(0,a.Z)((0,a.Z)({},e),{},{params:s}))}}))(U)}}]);
//# sourceMappingURL=215.5bb8c08c.chunk.js.map